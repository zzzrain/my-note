<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>一串效果</title>
	<style>
		img{display: block;width: 60px;height: 60px;border-radius:50%;
			position: absolute;top: 10px;left: 10px;}
	</style>
	<script src="../common.js"></script>
</head>
<body>
	<script>
		// 创建图标
		for(var i=0;i<50;i++){
			var img = document.createElement('img');
			img.style.background = color();
			document.body.appendChild(img);	
		}
		
		var img = document.getElementsByTagName('img');
		document.onmousemove = function(e){
			var x = e.clientX - img[0].offsetWidth/2 + 'px';
			var y = e.clientY - img[0].offsetHeight/2 + 'px';			
			img[0].style.left = x;
			img[0].style.top = y;

			var delay; 
			for(let i=img.length-1;i>0;i--){				
				img[i].style.left = img[i-1].style.left;
				img[i].style.top = img[i-1].style.top;	
				delay = setTimeout(function(){
					img[i].style.left = x;
					img[i].style.top = y;
				},1000);				
			}
			if(img[img.length-1].style.left = x){
				clearTimeout(delay);
			}
		}
	</script>
</body>
</html>