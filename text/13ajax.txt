ajax请求

1、创建对象：var xhr = new XMLHttpRequest();

2、请求连接：xhr.open(type,url,async)
   type： 请求类型 'get'/'post'
   url：  同源策略：协议、域名、端口一致 
   async：是否异步 (默认true)

3、发送请求：xhr.send()

4、回调函数：
   xhr.onreadystatechange = function(){}

   xhr.readyState
   0：(未初始化)open()没调用
   1：正在发送请求：open()已调用
   2：请求发送成功：send()已调用
   3：正在接收数据
   4：数据接收完成
  
   xhr.status
   200：成功连接
   304：不用请求，使用缓存
   404：请求地址不存在
   500：服务器出错
   
   xhr.responseText： 服务器返回的数据 
   xhr.setRequestHeader()： 设置请求头

5、古董方法：eval('('+ JSON + ')')

6、jsonp原理：通过script标签发起请求取代ajax请求

a、预定义全局函数
b、读取地址并调用函数

7、CORS：跨域资源共享
   设置请求头：
   header('Access-Control-Allow-Origin')

8、后端代理








